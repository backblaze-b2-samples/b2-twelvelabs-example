{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="flex">
        {% include "core/video_play.html" %}
        <div class="clips">
            {% include "core/video_search_results.html" with div="results" %}
        </div>
    </div>
    {% include "core/video_operation_bar.html" %}
    <script>
      window.addEventListener("load", async () => {
        document.querySelector('#results a.button').onclick = readMoreHandler;

        // Read more starts hidden - either remove or show it depending on whether we need it
        const expandable = document.querySelector('.expandable')
        const height = expandable.getBoundingClientRect().height
        const maxHeight = parseInt(window.getComputedStyle(expandable).maxHeight, 10);
        const readMore = document.querySelector('.read-more');
        if (height < maxHeight) {
          readMore.remove();
        } else {
          readMore.style.visibility = 'visible';
        }
      });
    </script>
{% endblock %}
